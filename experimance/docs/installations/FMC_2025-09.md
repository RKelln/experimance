# Experimance #5 installation documentation

*Factory Media Centre, Hamilton ON*
Aug 7 - Sept 29, 2025

_git tag:_ `FMC_install_v1.1`

## Equipment list

- **[Beelink SER8 mini PC](https://www.amazon.ca/dp/B0DKMR8BRH)**:
  - runs software components (not text-to-image generation)
- **[Intel Realsense D415 Depth Camera](https://realsenseai.com/stereo-depth-cameras/stereo-depth-camera-d415/)**: 
  - viewing sand topology from approx 50 cm
- **[AXAA mini laser projector](https://www.aaxatech.com/products/M8_Laser_Projector.html)**: 
  - projecting on sand
- **[Yealink SP92 Conference Speaker and Microphone](https://www.amazon.ca/Yealink-SP92-Cancellation-Full-Duplex-Speakerphone/dp/B0F28HTJP3)**: 
  - for voice chat (with built-in echo cancellation)
- **webcam**: 
  - viewing seated audience (presence detection)
- **[camera desk mount rig](https://www.amazon.ca/dp/B0CG8WVLDY)**:
  - holds depth cam, webcam and projector 
- customized secondhand **table** with bowl mount: 
  - holds bowl
  - covered in black velvet cloth
- ceramic **[bowl](https://www.amazon.ca/Succulent-Planter-Drainage-Ceramic-Planters/dp/B0B38NVHH3)** 11" diamater: 
  - for sand
- **[sustainably harvested sand]()**
- 2 small USB **[speakers](https://www.amazon.ca/MEIRIYFA-Computer-Speakers-Desktop-Loudspeaker/dp/B0DK4X7H7Q)**: 
  - positioned under bowl for environmental effects
- **[ground loop noise isolator](https://www.amazon.ca/Smof-Isolator-Eliminate-Buzzing-Completely/dp/B0171PQLB8)**: 
  - reduce buzz to usb speakers
- surround **speakers** provided by FMC: 
  - music

## Services

- **[Vast.ai](https://vast.ai/)**:
  - GPU rental (3090/4090 usually) to generate images
- **[Assembly AI](https://www.assemblyai.com/)**:
  - Speech-to-text service (Universal Streaming)
- **[Cartesia](https://cartesia.ai/)**:
  - Text-to-speech service (Sonic v2)
- **[OpenAI](https://openai.com/)**:
  - Chat agent (GPT-4o)

## Software

- Ubuntu 24.04:
  - OS for mini PC
- Tailscale:
  - for remote admin
- Experimance git tag: `FMC_install_v1.1`

---

## Installation References

For complete setup procedures, see:
- **Fresh machine setup**: [`infra/docs/new_machine_setup.md`](../../infra/docs/new_machine_setup.md) - OS install, BIOS config, deploy script, SSH setup
- **On-site testing checklist**: [`projects/experimance/install_checklist.md`](../../projects/experimance/install_checklist.md) - Projector calibration, service config tuning, presence detection

---

## System State Snapshot

### Git Repository
- **Branch**: `main`
- **Tag**: `FMC_install_v1.1`

### Operating System
```
Linux experimance 6.14.0-33-generic #33~24.04.1-Ubuntu SMP PREEMPT_DYNAMIC Fri Sep 19 17:02:30 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
Ubuntu 24.04 LTS
Kernel: 6.14.0-33-generic
```

### Python Environment
```
Python: 3.11 (needed because of Realsense camera)
uv: 0.8.0
```

### Hardware Detection
```
GPU: AMD Radeon 780M (Phoenix3) - amdgpu driver
Network: Realtek RTL8125 2.5GbE + Intel Wi-Fi 6 AX200
Storage: Micron 2550 NVMe SSD
Audio: AMD Rembrandt Radeon HD Audio + ACP Audio Coprocessor
```

---

## Projector Calibration

### Settings
- **Resolution**: 1920x1080
- **Refresh Rate**: 60Hz
- **Keystone**: adjust manually against the table edges to ensure the image is aligned
- **Zoom**: once mostly aligned use zoom to match the bowl

### Projector Calibration Process
1. Project test pattern on sand surface
2. Adjust keystone to align edges with bowl rim
3. Fine-tune focus for sharpest detail across entire surface
4. Set brightness for optimal visibility in gallery lighting
5. Verify settings persist after power cycle
   - There was a serious issue with the AXAA projector where the settings wouldn't be saved in one orientation (e.g. rear projection) but would in another, so ended up with the image upside down but only affected text, which went unused in this install

### Test Images
- Calibration photos: [projector alignment](../../media/images/display/projector_alignment.png)

---

## Lessons Learned

- Things failed horribly when trying to do webcam tuning remotely because that requires a GUI which doesn't work in headless mode. Cause a panic when I had some debug settings on which caused the entire project to fail. Need to make a different approach that works with remote admin (send images to remote end point?)
- Agent: Having a "welcome" flow/state and then an "explorer" state was causing problems since it was too easy to get stuck in welcome, and then not being able to interact properly. Single state only.
- Vast.ai: super flaky to install pytorch and nvidia drivers. Known issue that is slowly being dealt with in newer versions of pytorch. Needed to add a lot of fallback and detection of bad instances and also detect all black images.

